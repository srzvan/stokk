(this.webpackJsonpstokk=this.webpackJsonpstokk||[]).push([[0],{143:function(e,t,a){"use strict";a.r(t);var n,r=a(2),o=a(0),c=a(64),s=a.n(c),i=a(196),l=a(4),u=a(28),d=a(194),j=a(203),h=a(195),b=a(167),O=a(162),f=a(166),p=a(201),x=a(197),g=a(58),m=a(160),y=a(161),S=function(){return Object(r.jsxs)(m.a,{as:"h1",size:"lg",mb:4,children:[Object(r.jsxs)(y.a,{colorScheme:"red",fontSize:"inherit",lineHeight:"short",alignItems:"center",display:"inline-flex",borderTopRightRadius:0,borderBottomRightRadius:0,children:[Object(r.jsx)(g.a,{}),Object(r.jsx)(O.a,{as:"span",marginLeft:"2",children:"st"})]}),Object(r.jsxs)(y.a,{fontSize:"inherit",lineHeight:"short",alignItems:"center",colorScheme:"green",display:"inline-flex",borderTopLeftRadius:0,borderBottomLeftRadius:0,children:[Object(r.jsx)(O.a,{as:"span",marginRight:2,children:"okk"}),Object(r.jsx)(g.b,{})]})]})},v=a(20),k=a.n(v),w=a(38),D=a(19),T=a(70),C=a(163),E=a(48),I=a(204),A=a(164),L=function(e){var t=e.setQuery,a=e.suggestion,n=e.setIsStockSymbolSet;return Object(r.jsx)(O.a,{as:"p",cursor:"pointer",onClick:function(){t(a),n(!0)},borderBottom:"1px solid transparent",_hover:{borderBottomColor:T.b.colors.gray[100]},children:a})},M=function(e){var t=e.setQuery,a=e.suggestions,n=e.setIsStockSymbolSet;return Object(r.jsx)(C.c,{alignItems:"start",maxHeight:"10em",overflowY:"auto",children:Object(r.jsx)(O.a,{w:"100%",children:Object(r.jsx)(A.a,{initialScale:.9,in:a.length>0,children:a.map((function(e){return Object(r.jsx)(L,{setQuery:t,suggestion:e,setIsStockSymbolSet:n},e)}))})})})};!function(e){e.SET_COMPANY="SET_COMPANY",e.SHOULD_FETCH_STOCK_DATA="SHOULD_FETCH_STOCK_DATA"}(n||(n={}));var _,F=o.createContext({company:{symbol:"",name:""},shouldFetchStockData:!1,dispatch:function(){}});function R(e){return H.apply(this,arguments)}function H(){return(H=Object(w.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"NQ351QQFJLUS3Z9X",e.next=4,fetch("https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=".concat(t.toLowerCase(),"&apikey=").concat("NQ351QQFJLUS3Z9X"));case 4:return a=e.sent,e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function z(e){return e.bestMatches.map(Q)}function Q(e){return"".concat(e[_.SYMBOL]," - ").concat(e[_.NAME])}!function(e){e.SYMBOL="1. symbol",e.NAME="2. name"}(_||(_={}));var W,N,Y,U=function(e){var t=e.closeModal,a=e.inputRef,c=o.useContext(F).dispatch,s=o.useState(""),i=Object(l.a)(s,2),u=i[0],d=i[1],j=o.useState(!1),h=Object(l.a)(j,2),b=h[0],O=h[1],f=o.useState(),x=Object(l.a)(f,2),g=x[0],m=x[1],y=o.useState(!1),S=Object(l.a)(y,2),v=S[0],A=S[1],L=o.useState(),_=Object(l.a)(L,2),H=_[0],Q=_[1];function W(){return(W=Object(w.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,R(t);case 3:a=e.sent,m(z(a)),O(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.jsx)(D.a.form,{flex:"0 0 25%",autoComplete:"off",position:"relative",onSubmit:function(e){e.preventDefault(),c({type:n.SHOULD_FETCH_STOCK_DATA,payload:!0}),c({type:n.SET_COMPANY,payload:{symbol:u.split(" - ")[0],name:u.split(" - ")[1]}}),t()},zIndex:T.b.zIndices.dropdown,children:Object(r.jsxs)(C.b,{spacing:3,children:[Object(r.jsxs)(C.b,{spacing:0,children:[Object(r.jsxs)(E.a,{mb:2,children:[Object(r.jsx)(I.a,{required:!0,type:"text",ref:a,variant:"flushed",name:"searchQuery",onChange:function(e){var t=e.target.value;H&&clearTimeout(H),t.length>1&&Q(setTimeout((function(){return function(e){return W.apply(this,arguments)}(t)}),1250)),d(t),A(!1)},value:u.split(" - ")[0],placeholder:"e.g. GOOGL/Google"}),Object(r.jsx)(E.b,{children:"Type the name of a stock symbol/company & click on any of the suggestions"})]}),g&&(null===g||void 0===g?void 0:g.length)>0?Object(r.jsx)(M,{setQuery:d,suggestions:g,setIsStockSymbolSet:A}):null]}),Object(r.jsx)(p.a,{type:"submit",isLoading:b,disabled:!v,children:"Load stock data for selected company"})]})})},B=function(){var e=o.useRef(null),t=Object(f.a)(),a=t.isOpen,n=t.onOpen,c=t.onClose,s=t.onToggle;return Object(r.jsxs)(b.a,{p:5,as:"header",fontSize:"2xl",direction:"column",alignItems:"center",children:[Object(r.jsx)(S,{}),Object(r.jsx)(p.a,{size:"md",fontSize:"xl",onClick:n,variant:"outline",colorScheme:"blue",rightIcon:Object(r.jsx)(g.c,{}),children:"Search"}),Object(r.jsxs)(x.a,{size:"xl",isOpen:a,onClose:c,motionPreset:"scale",initialFocusRef:e,children:[Object(r.jsx)(x.f,{}),Object(r.jsxs)(x.d,{children:[Object(r.jsx)(x.e,{children:"Search for a stock symbol/company name"}),Object(r.jsx)(x.c,{}),Object(r.jsx)(x.b,{children:Object(r.jsx)(U,{closeModal:s,inputRef:e})})]})]})]})},P=a(182),G=a(51),J=a(193),K=a(183),X=a(200),Z=a(188),q=a(184),$=a(185),V=a(186),ee=a(199),te=a(198),ae=a(187),ne=a(189),re=a(190),oe=a(191),ce=a(174),se=a(175),ie=a(78),le=a(206);function ue(e){return de.apply(this,arguments)}function de(){return(de=Object(w.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"NQ351QQFJLUS3Z9X",e.next=4,fetch("https://www.alphavantage.co/query?function=TIME_SERIES_DAILY_ADJUSTED&symbol=".concat(t,"&outputsize=full&apikey=").concat("NQ351QQFJLUS3Z9X"));case 4:return a=e.sent,e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function je(e){var t=Object.entries(e[N.TIME_SERIES_DAILY]);if(t)return t.map((function(e){var t=Number.parseFloat(e[1][W.HIGH]),a=Number.parseFloat(e[1][W.LOW]),n=+((t+a)/2).toFixed(3);return{values:{low:a,high:t,average:n},date:e[0]}})).sort((function(e,t){return e.date>t.date?1:-1}));throw new Error("There is no data for the selected company \ud83d\ude15")}!function(e){e.HIGH="2. high",e.LOW="3. low"}(W||(W={})),function(e){e.TIME_SERIES_DAILY="Time Series (Daily)"}(N||(N={})),function(e){e.LOW="low",e.HIGH="high",e.AVERAGE="average"}(Y||(Y={}));var he=function(e){return new Date(e.date)},be=function(e){return e.values.high},Oe=function(e){return e.values.average},fe=Object(ie.a)((function(e){return new Date(e.date)})).left,pe=Object(le.a)("%b %d, '%y"),xe={dark:"#75daad",light:"#edffea"},ge={dark:"#3b6978",darker:"#204051"},me=Object(u.a)(Object(u.a)({},ce.b),{},{color:"white",border:"1px solid white",background:ge.dark}),ye=Object(u.a)(Object(u.a)({},me),{},{background:T.b.colors.orange[500]}),Se=function(e){var t=e.width,a=e.height,n=e.margin,c=e.showAverage,s=e.stockTimeSeries,i=Object(se.a)(),l=i.showTooltip,d=i.hideTooltip,j=i.tooltipData,h=i.tooltipLeft,b=i.tooltipTop,f=n?t-n.left-n.right:t,p=n?a-n.top-n.bottom:a,x=o.useMemo((function(){return Object(ee.a)({range:[0,f],domain:Object(P.a)(s,he)})}),[f,s]),g=o.useMemo((function(){return Object(te.a)({nice:!0,range:[p,0],domain:[0,(Object(K.a)(s,be)||0)+p/3]})}),[p,s]),m=o.useCallback((function(e){var t=(Object(X.a)(e)||{x:0}).x,a=x.invert(t),n=fe(s,a,1),r=s[n-1],o=s[n],c=r;o&&he(o)&&(c=a.valueOf()-he(r).valueOf()>he(o).valueOf()-a.valueOf()?o:r),l({tooltipData:c,tooltipLeft:t,tooltipTop:g(be(c))})}),[l,g,x,s]);return Object(r.jsxs)(O.a,{position:"relative",children:[Object(r.jsxs)("svg",{width:t,height:a,children:[Object(r.jsx)("rect",{x:0,y:0,rx:14,width:t,height:a,fill:"url(#area-background-gradient)"}),Object(r.jsx)(q.a,{id:"area-background-gradient",from:ge.dark,to:ge.darker}),Object(r.jsx)(q.a,{toOpacity:.1,id:"area-gradient",to:xe.light,from:xe.light}),Object(r.jsx)($.a,{width:f,strokeOpacity:.3,pointerEvents:"none",strokeDasharray:"3,3",scale:g,stroke:xe.light}),Object(r.jsx)(V.a,{height:p,scale:x,strokeOpacity:.3,pointerEvents:"none",strokeDasharray:"3,3",stroke:xe.light}),Object(r.jsx)(ae.a,{strokeWidth:1,data:s,curve:Z.a,yScale:g,fill:"url(#area-gradient)",stroke:"url(#area-gradient)",x:function(e){return x(he(e))},y:function(e){return g(be(e))}}),c&&Object(r.jsx)(ne.a,{strokeWidth:1.5,data:s,curve:Z.a,x:function(e){return x(he(e))},stroke:T.b.colors.orange[500],y:function(e){return g(Oe(e))}}),Object(r.jsx)(re.a,{x:0,y:0,rx:14,width:t,height:a,fill:"transparent",onMouseMove:m,onMouseLeave:function(){return d()}}),j&&b&&Object(r.jsxs)("g",{children:[Object(r.jsx)(oe.a,{strokeWidth:2,pointerEvents:"none",strokeDasharray:"5,2",stroke:xe.dark,from:{x:h,y:0},to:{x:h,y:p}}),Object(r.jsx)("circle",{r:4,fill:"black",stroke:"black",strokeWidth:2,cx:h,fillOpacity:.1,cy:b+1,strokeOpacity:.1,pointerEvents:"none"}),Object(r.jsx)("circle",{r:4,stroke:"white",cy:b,strokeWidth:2,cx:h,pointerEvents:"none",fill:xe.dark})]})]}),j&&b&&h&&Object(r.jsxs)("div",{children:[Object(r.jsx)(ce.a,{top:b-12,left:h+12,style:me,children:"$".concat(be(j))}),c&&Object(r.jsxs)(ce.a,{top:b+25,left:h+12,style:ye,children:["Average: ","$".concat(Oe(j))]}),Object(r.jsx)(ce.a,{top:p+15,left:h,style:Object(u.a)(Object(u.a)({},ce.b),{},{minWidth:72,textAlign:"center",transform:"translateX(-50%)"}),children:pe(he(j))})]})]})},ve=a(192),ke=a(205),we=a(107),De=Object(D.a)(we.DateRange),Te=function(e){var t=e.minDate,a=e.maxDate,n=e.setShowAverage,c=e.setFilterInterval,s=o.useState({key:"selection",startDate:new Date,endDate:new Date}),i=Object(l.a)(s,2),u=i[0],d=i[1];return Object(r.jsxs)(C.b,{spacing:3,gridColumn:"3 / span 1",children:[Object(r.jsxs)(E.a,{children:[Object(r.jsx)(ve.a,{fontSize:"lg",children:"Date interval for stock time series"}),Object(r.jsx)(De,{w:"100%",weekStartsOn:1,ranges:[u],minDate:new Date(t),maxDate:new Date(a),endDatePlaceholder:"End date",dateDisplayFormat:"d MMM, yyyy",startDatePlaceholder:"Start date",moveRangeOnFirstSelection:!1,onChange:function(e){d(e.selection)}}),Object(r.jsx)(E.b,{fontSize:"md",children:"Select start & end dates in order to filter the stock data"})]}),Object(r.jsxs)(E.a,{display:"flex",alignItems:"center",children:[Object(r.jsx)(ve.a,{htmlFor:"average-stock-value",mb:"0",children:"Show average stock value"}),Object(r.jsx)(ke.a,{id:"average-stock-value",onChange:function(e){n(e.target.checked)}})]}),Object(r.jsx)(p.a,{type:"submit",colorScheme:"blue",variant:"outline",onClick:function(){u.startDate&&u.endDate&&c({start:u.startDate,end:u.endDate})},children:"Filter"})]})},Ce=a(202),Ee=function(){return Object(r.jsxs)(C.b,{gridRow:"1 / -1",alignSelf:"center",justifySelf:"center",gridColumn:"2 / span 2",children:[Object(r.jsx)(O.a,{as:"p",children:"Loading company data..."}),Object(r.jsx)(Ce.a,{size:"3xs",isIndeterminate:!0,color:T.b.colors.teal[500]})]})},Ie=function(){var e=o.useContext(F),t=e.company,a=e.shouldFetchStockData,c=e.dispatch,s=o.useState(""),i=Object(l.a)(s,2),u=i[0],d=i[1],j=o.useState(""),h=Object(l.a)(j,2),b=h[0],O=h[1],f=o.useState(!1),p=Object(l.a)(f,2),x=p[0],g=p[1],m=o.useState(!1),y=Object(l.a)(m,2),S=y[0],v=y[1],T=o.useState(),E=Object(l.a)(T,2),I=E[0],A=E[1],L=o.useState(),M=Object(l.a)(L,2),_=M[0],R=M[1],H=o.useState(),z=Object(l.a)(H,2),Q=z[0],W=z[1];o.useEffect((function(){function e(){return(e=Object(w.a)(k.a.mark((function e(){var a,r,o,s,i,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,ue(t.symbol);case 3:if(!(a=e.sent)){e.next=14;break}r=je(a),o=Object(P.a)(r,(function(e){return e.date})),s=Object(l.a)(o,2),i=s[0],u=s[1],d(null!==i&&void 0!==i?i:""),O(null!==u&&void 0!==u?u:""),W(r),c({type:n.SHOULD_FETCH_STOCK_DATA,payload:!1}),g(!1),e.next=15;break;case 14:throw new Error("There is no data for the selected company \ud83d\ude15");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a&&function(){e.apply(this,arguments)}()}),[a]),o.useLayoutEffect((function(){if((null===_||void 0===_?void 0:_.start)&&(null===_||void 0===_?void 0:_.end)&&Q){var e=function(e,t){var a=t.start.toISOString().split("T")[0],n=t.end.toISOString().split("T")[0];return e.filter((function(e){return e.date>=a&&e.date<=n}))}(Q,_);A(e)}}),[_,Q]);var N=Object(G.d)();return x?Object(r.jsx)(Ee,{}):Q?Object(r.jsxs)(C.a,{spacing:"10em",children:[Object(r.jsxs)(C.b,{spacing:3,gridColumn:"2 / span 1",children:[Object(r.jsxs)(J.a,{as:"h3",children:["You're looking at stock data for"," ",Object(r.jsx)(J.a,{as:"span",fontSize:"2xl",fontWeight:"semibold",color:N.colors.blue[500],children:t.name})," ","between"," ",Object(r.jsx)(J.a,{as:"span",fontSize:"xl",fontWeight:"semibold",color:N.colors.blue[500],children:u})," ","and"," ",Object(r.jsx)(J.a,{as:"span",fontSize:"xl",fontWeight:"semibold",color:N.colors.blue[500],children:b})]}),Object(r.jsx)(Se,{width:800,height:480,showAverage:S,stockTimeSeries:null!==I&&void 0!==I?I:Q})]}),Object(r.jsx)(Te,{minDate:u,maxDate:b,setShowAverage:v,setFilterInterval:R})]}):Object(r.jsx)(D.a.p,{fontSize:"3xl",display:"flex",gridColumn:"2 / -2",alignItems:"center",gridRow:"1 / span 3",justifyContent:"center",children:"Search for a company to load its stock data. Afterwards you can filter it using the calendar."})},Ae=Object(d.a)({initialColorMode:"dark",styles:{global:{"html, body, #root":{height:"100%"},".rdrMonth":{alignSelf:"center"}}}});function Le(e,t){switch(t.type){case n.SET_COMPANY:return Object(u.a)(Object(u.a)({},e),{},{company:Object(u.a)({},t.payload)});case n.SHOULD_FETCH_STOCK_DATA:return Object(u.a)(Object(u.a)({},e),{},{shouldFetchStockData:t.payload})}}var Me=function(){var e=o.useReducer(Le,{company:{symbol:"",name:""},shouldFetchStockData:!1}),t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(r.jsx)(j.a,{theme:Ae,children:Object(r.jsxs)(h.a,{h:"100%",templateRows:"auto 1fr auto",children:[Object(r.jsxs)(F.Provider,{value:{company:a.company,shouldFetchStockData:a.shouldFetchStockData,dispatch:n},children:[Object(r.jsx)(B,{}),Object(r.jsx)(b.a,{as:"main",fontSize:"xl",justifyContent:"center",alignItems:"center",children:Object(r.jsx)(Ie,{})})]}),Object(r.jsx)(O.a,{as:"footer",p:5,fontSize:"xl",textAlign:"center",children:Object(r.jsxs)("p",{children:["Made with"," ",Object(r.jsx)("span",{role:"img","aria-labelledby":"Heart",children:"\ud83d\udc96"})," ","by R\u0103zvan Sb\xeengu"]})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(141),a(142);s.a.render(Object(r.jsxs)(o.StrictMode,{children:[Object(r.jsx)(i.a,{initialColorMode:"dark"}),Object(r.jsx)(Me,{})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[143,1,2]]]);
//# sourceMappingURL=main.845afe49.chunk.js.map