(this.webpackJsonpstokk=this.webpackJsonpstokk||[]).push([[0],{145:function(e,t,r){"use strict";r.r(t);var a,n=r(2),o=r(0),c=r(63),i=r.n(c),s=r(197),l=r(4),d=r(195),u=r(69),b=r(204),j=r(196),h=r(166),O=r(162),p=r(165),f=r(167),x=r(168),g=r(202),m=r(198),y=r(72),S=r(30),v=r.n(S),k=r(56),D=r(161),w=r(163),T=r(17),E=r(47),A=r(205);!function(e){e.SYMBOL="1. symbol",e.NAME="2. name"}(a||(a={}));var _=function(e){var t=e.query,r=e.setQuery,c=e.closeModal,i=e.setShouldFetchDailyStockTimeSeries,s=o.useState(),d=Object(l.a)(s,2),b=d[0],j=d[1],h=o.useState(),p=Object(l.a)(h,2),f=p[0],x=p[1],m=o.useState(!1),y=Object(l.a)(m,2),S=y[0],_=y[1],I=o.useState(!1),R=Object(l.a)(I,2),C=R[0],L=R[1];function M(){return(M=Object(k.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),i(!0),c();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(k.a)(v.a.mark((function e(){var r,a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""===t){e.next=12;break}return _(!0),r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ALPHA_VANTAGE_API_KEY,e.next=6,fetch("https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=".concat(t.toLowerCase(),"&apikey=").concat(r));case 6:return a=e.sent,e.next=9,a.json();case 9:n=e.sent,j(z(n)),_(!1);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function z(e){return e.bestMatches.map((function(e){return"".concat(e[a.SYMBOL]," - ").concat(e[a.NAME])}))}return Object(n.jsx)(T.a.form,{onSubmit:function(e){return M.apply(this,arguments)},autoComplete:"off",flex:"0 0 25%",position:"relative",zIndex:u.b.zIndices.dropdown,children:Object(n.jsxs)(D.b,{spacing:3,children:[Object(n.jsxs)(D.b,{spacing:0,children:[Object(n.jsxs)(E.a,{mb:2,children:[Object(n.jsx)(A.a,{ref:e.inputRef,name:"query",type:"text",placeholder:"e.g. GOOGL/Google",required:!0,onChange:function(e){f&&clearTimeout(f),r(e.target.value),L(!1),x(setTimeout((function(){return function(){return F.apply(this,arguments)}()}),500))},value:t,variant:"flushed"}),Object(n.jsx)(E.b,{children:"Type the name of a stock symbol/company & click on any of the suggestions"})]}),""!==t&&b&&(null===b||void 0===b?void 0:b.length)>0?Object(n.jsx)(D.c,{alignItems:"start",maxHeight:"10em",overflowY:"auto",children:Object(n.jsx)(O.a,{w:"100%",children:Object(n.jsx)(w.a,{initialScale:.9,in:b.length>0,children:null===b||void 0===b?void 0:b.map((function(e,t){return Object(n.jsx)(O.a,{as:"p",onClick:function(){L(!0),r(e.split(" - ")[0])},borderBottom:"1px solid transparent",cursor:"pointer",_hover:{borderBottomColor:u.b.colors.gray[100]},children:e},t)}))})})}):null]}),Object(n.jsx)(g.a,{type:"submit",disabled:!C,isLoading:S,children:"Load stock data for selected company"})]})})};var I,R,C,L=function(e){var t=e.query,r=e.setQuery,a=e.setShouldFetchDailyStockTimeSeries,c=o.useRef(null),i=Object(p.a)(),s=i.isOpen,l=i.onOpen,d=i.onClose,u=i.onToggle;return Object(n.jsxs)(h.a,{as:"header",p:5,fontSize:"2xl",direction:"column",alignItems:"center",children:[Object(n.jsxs)(f.a,{as:"h1",size:"lg",mb:4,children:[Object(n.jsxs)(x.a,{borderTopRightRadius:0,borderBottomRightRadius:0,display:"inline-flex",alignItems:"center",colorScheme:"red",fontSize:"inherit",lineHeight:"short",children:[Object(n.jsx)(y.a,{}),Object(n.jsx)(O.a,{as:"span",marginLeft:"2",children:"st"})]}),Object(n.jsxs)(x.a,{borderTopLeftRadius:0,borderBottomLeftRadius:0,display:"inline-flex",alignItems:"center",colorScheme:"green",fontSize:"inherit",lineHeight:"short",children:[Object(n.jsx)(O.a,{as:"span",marginRight:2,children:"okk"}),Object(n.jsx)(y.b,{})]})]}),Object(n.jsx)(g.a,{variant:"outline",size:"md",colorScheme:"blue",onClick:l,fontSize:"xl",rightIcon:Object(n.jsx)(y.c,{}),children:"Search"}),Object(n.jsxs)(m.a,{onClose:d,size:"xl",isOpen:s,motionPreset:"scale",initialFocusRef:c,children:[Object(n.jsx)(m.f,{}),Object(n.jsxs)(m.d,{children:[Object(n.jsx)(m.e,{children:"Search for a stock symbol/company name"}),Object(n.jsx)(m.c,{}),Object(n.jsx)(m.b,{children:Object(n.jsx)(_,{inputRef:c,query:t,setQuery:r,closeModal:u,setShouldFetchDailyStockTimeSeries:a})})]})]})]})},M=r(194),F=r(44),z=r(185),P=r(200),W=r(199),H=r(186),N=r(187),B=r(188),Y=r(190),q=r(191),G=r(192),K=r(189),U=r(201),V=r(175),Q=r(176),J=r(183),$=r(184),X=r(78),Z=r(207);function ee(e){return Object.entries(e[R.TIME_SERIES_DAILY]).map((function(e){var t=Number.parseFloat(e[1][I.HIGH]),r=Number.parseFloat(e[1][I.LOW]),a=+((t+r)/2).toFixed(3);return{date:e[0],values:{high:t,low:r,average:a}}})).sort((function(e,t){return e.date>t.date?1:-1}))}!function(e){e.HIGH="2. high",e.LOW="3. low"}(I||(I={})),function(e){e.TIME_SERIES_DAILY="Time Series (Daily)"}(R||(R={})),function(e){e.HIGH="high",e.LOW="low",e.AVERAGE="average"}(C||(C={}));var te=function(e){return new Date(e.date)},re=function(e){return e.values.high},ae=function(e){return e.values.average},ne=Object(X.a)((function(e){return new Date(e.date)})).left,oe=Object(Z.a)("%b %d, '%y"),ce={light:"#edffea",dark:"#75daad"},ie={dark:"#3b6978",darker:"#204051"},se=Object(F.a)(Object(F.a)({},V.b),{},{background:ie.dark,border:"1px solid white",color:"white"}),le=Object(F.a)(Object(F.a)({},se),{},{background:u.b.colors.orange[500]});var de=function(e){var t=e.stockTimeSeries,r=e.showAverage,a=e.width,c=e.height,i=e.margin,s=Object(Q.a)(),l=s.showTooltip,d=s.hideTooltip,b=s.tooltipData,j=s.tooltipLeft,h=s.tooltipTop,p=i?a-i.left-i.right:a,f=i?c-i.top-i.bottom:c,x=o.useMemo((function(){return Object(P.a)({range:[0,p],domain:Object(J.a)(t,te)})}),[p,t]),g=o.useMemo((function(){return Object(W.a)({range:[f,0],domain:[0,Object($.a)(t,re)],nice:!0})}),[f,t]),m=o.useCallback((function(e){var r=(Object(U.a)(e)||{x:0}).x,a=x.invert(r),n=ne(t,a,1),o=t[n-1],c=t[n],i=o;c&&te(c)&&(i=a.valueOf()-te(o).valueOf()>te(c).valueOf()-a.valueOf()?c:o),l({tooltipData:i,tooltipLeft:r,tooltipTop:g(re(i))})}),[l,g,x,t]);return Object(n.jsxs)(O.a,{position:"relative",children:[Object(n.jsxs)("svg",{width:a,height:c,children:[Object(n.jsx)("rect",{x:0,y:0,width:a,height:c,fill:"url(#area-background-gradient)",rx:14}),Object(n.jsx)(z.a,{id:"area-background-gradient",from:ie.dark,to:ie.darker}),Object(n.jsx)(z.a,{id:"area-gradient",from:ce.light,to:ce.light,toOpacity:.1}),Object(n.jsx)(H.a,{scale:g,width:p,strokeDasharray:"3,3",stroke:ce.light,strokeOpacity:.3,pointerEvents:"none"}),Object(n.jsx)(N.a,{scale:x,height:f,strokeDasharray:"3,3",stroke:ce.light,strokeOpacity:.3,pointerEvents:"none"}),Object(n.jsx)(B.a,{data:t,x:function(e){return x(te(e))},y:function(e){return g(re(e))},yScale:g,strokeWidth:1,stroke:"url(#area-gradient)",fill:"url(#area-gradient)",curve:K.a}),r&&Object(n.jsx)(Y.a,{stroke:u.b.colors.orange[500],strokeWidth:1.5,data:t,x:function(e){return x(te(e))},y:function(e){return g(ae(e))},curve:K.a}),Object(n.jsx)(q.a,{x:0,y:0,width:a,height:c,fill:"transparent",rx:14,onMouseMove:m,onMouseLeave:function(){return d()}}),b&&h&&Object(n.jsxs)("g",{children:[Object(n.jsx)(G.a,{from:{x:j,y:0},to:{x:j,y:f},stroke:ce.dark,strokeWidth:2,pointerEvents:"none",strokeDasharray:"5,2"}),Object(n.jsx)("circle",{cx:j,cy:h+1,r:4,fill:"black",fillOpacity:.1,stroke:"black",strokeOpacity:.1,strokeWidth:2,pointerEvents:"none"}),Object(n.jsx)("circle",{cx:j,cy:h,r:4,fill:ce.dark,stroke:"white",strokeWidth:2,pointerEvents:"none"})]})]}),b&&h&&j&&Object(n.jsxs)("div",{children:[Object(n.jsx)(V.a,{top:h-12,left:j+12,style:se,children:"$".concat(re(b))}),r&&Object(n.jsxs)(V.a,{top:h+25,left:j+12,style:le,children:["Average: ","$".concat(ae(b))]}),Object(n.jsx)(V.a,{top:f+15,left:j,style:Object(F.a)(Object(F.a)({},V.b),{},{minWidth:72,textAlign:"center",transform:"translateX(-50%)"}),children:oe(te(b))})]})]})},ue=r(193),be=r(206),je=r(108),he=Object(T.a)(je.DateRange),Oe=function(e){var t=e.setFilterInterval,r=e.setShowAverage,a=e.minDate,c=e.maxDate,i=o.useState([{key:"selection",startDate:void 0,endDate:void 0}]),s=Object(l.a)(i,2),d=s[0],u=s[1];return Object(n.jsxs)(D.b,{spacing:3,gridColumn:"3 / span 1",children:[Object(n.jsxs)(E.a,{children:[Object(n.jsx)(ue.a,{fontSize:"lg",children:"Date interval for stock time series"}),Object(n.jsx)(he,{minDate:new Date(a),maxDate:new Date(c),startDatePlaceholder:"Start date",endDatePlaceholder:"End date",ranges:d,moveRangeOnFirstSelection:!1,weekStartsOn:1,dateDisplayFormat:"d MMM, yyyy",onChange:function(e){u([e.selection])},w:"100%"}),Object(n.jsx)(E.b,{fontSize:"md",children:"Select start & end dates in order to filter the stock data"})]}),Object(n.jsxs)(E.a,{display:"flex",alignItems:"center",children:[Object(n.jsx)(ue.a,{htmlFor:"average-stock-value",mb:"0",children:"Show average stock value"}),Object(n.jsx)(be.a,{id:"average-stock-value",onChange:function(e){r(e.target.checked)}})]}),Object(n.jsx)(g.a,{type:"submit",colorScheme:"blue",variant:"outline",onClick:function(){t({start:d[0].startDate,end:d[0].endDate})},children:"Filter"})]})},pe=r(203);var fe=function(){return Object(n.jsxs)(D.b,{gridColumn:"2 / span 2",gridRow:"1 / -1",justifySelf:"center",alignSelf:"center",children:[Object(n.jsx)(O.a,{as:"p",children:"Loading company data..."}),Object(n.jsx)(pe.a,{isIndeterminate:!0,size:"3xs",color:u.b.colors.teal[500]})]})};var xe=function(e){var t=e.query,r=e.shouldFetchDailyStockTimeSeries,a=e.setShouldFetchDailyStockTimeSeries,c=o.useState(),i=Object(l.a)(c,2),s=i[0],d=i[1],u=o.useState(!1),b=Object(l.a)(u,2),j=b[0],h=b[1],O=o.useState(),p=Object(l.a)(O,2),f=p[0],x=p[1],g=o.useState(),m=Object(l.a)(g,2),y=m[0],S=m[1],w=o.useState(""),E=Object(l.a)(w,2),A=E[0],_=E[1],I=o.useState(""),R=Object(l.a)(I,2),C=R[0],L=R[1],F=o.useState(!1),z=Object(l.a)(F,2),P=z[0],W=z[1];return o.useEffect((function(){function e(){return(e=Object(k.a)(v.a.mark((function e(){var r,n,o,c,i,s,u,b;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,W(!0),r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ALPHA_VANTAGE_API_KEY,e.next=5,fetch("https://www.alphavantage.co/query?function=TIME_SERIES_DAILY_ADJUSTED&symbol=".concat(t,"&outputsize=full&apikey=").concat(r));case 5:return n=e.sent,e.next=8,n.json();case 8:o=e.sent,c=ee(o),i=Object(J.a)(c,(function(e){return e.date})),s=Object(l.a)(i,2),u=s[0],b=s[1],_(u),L(b),d(c),a(!1),W(!1),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}r&&function(){e.apply(this,arguments)}()}),[r]),o.useLayoutEffect((function(){if((null===y||void 0===y?void 0:y.start)&&(null===y||void 0===y?void 0:y.end)&&s){var e=function(e,t){var r=t.start.toISOString().split("T")[0],a=t.end.toISOString().split("T")[0];return e.filter((function(e){return e.date>=r&&e.date<=a}))}(s,y);x(e)}}),[y,s]),P?Object(n.jsx)(fe,{}):s?Object(n.jsxs)(D.a,{spacing:"10em",children:[Object(n.jsxs)(D.b,{spacing:3,gridColumn:"2 / span 1",children:[Object(n.jsxs)(T.a.p,{children:["Stock data available between"," ",Object(n.jsx)(M.a,{size:"lg",variant:"solid",fontSize:"md",children:Object(n.jsx)(M.b,{children:A})})," ","and"," ",Object(n.jsx)(M.a,{size:"lg",variant:"solid",fontSize:"md",children:Object(n.jsx)(M.b,{children:C})})]}),Object(n.jsx)(de,{width:800,height:480,stockTimeSeries:null!==f&&void 0!==f?f:s,showAverage:j})]}),Object(n.jsx)(Oe,{minDate:A,maxDate:C,setFilterInterval:S,setShowAverage:h})]}):Object(n.jsx)(T.a.p,{gridColumn:"2 / -2",gridRow:"1 / span 3",fontSize:"3xl",display:"flex",justifyContent:"center",alignItems:"center",children:"Search for a company to load its stock data. Afterwards you can filter it using the calendar."})},ge=Object(d.a)({initialColorMode:"dark",styles:{global:{"html, body, #root":{height:"100%"},".rdrDateDisplayWrapper":{background:"transparent"},".rdrNextPrevButton":{background:u.b.colors.blue[100]},".rdrDateDisplayItem":{borderColor:u.b.colors.blue[200],background:"transparent"},".rdrDateDisplay":{margin:0},".rdrDateDisplayItemActive":{color:u.b.colors.yellow[200],borderColor:u.b.colors.yellow[200]},".rdrDateDisplayItem.rdrDateDisplayItemActive input[readonly]":{color:u.b.colors.yellow[200]},".rdrDateDisplayWrapper input[readonly]::placeholder":{color:u.b.colors.blue[200]},".rdrDateDisplayWrapper input[readonly]":{color:u.b.colors.blue[200],background:"transparent"},".rdrMonthAndYearPickers select":{border:"1px solid ".concat(u.b.colors.blue[200]),color:u.b.colors.blue[200]},".rdrMonthAndYearPickers select:hover":{background:u.b.colors.whiteAlpha[200]},".rdrMonth":{alignSelf:"center"},".rdrDateRangeWrapper":{background:"transparent"},".rdrDayNumber span":{color:u.b.colors.whiteAlpha[900]},".rdrDayPassive .rdrDayNumber span":{color:u.b.colors.whiteAlpha[300]},".rdrDayDisabled":{background:u.b.colors.blackAlpha[500]}}}});function me(){var e=o.useState(""),t=Object(l.a)(e,2),r=t[0],a=t[1],c=o.useState(!1),i=Object(l.a)(c,2),s=i[0],d=i[1];return Object(n.jsx)(b.a,{theme:ge,children:Object(n.jsxs)(j.a,{h:"100%",templateRows:"auto 1fr auto",children:[Object(n.jsx)(L,{query:r,setQuery:a,setShouldFetchDailyStockTimeSeries:d}),Object(n.jsx)(h.a,{as:"main",fontSize:"xl",justifyContent:"center",alignItems:"center",children:Object(n.jsx)(xe,{query:r,shouldFetchDailyStockTimeSeries:s,setShouldFetchDailyStockTimeSeries:d})}),Object(n.jsx)(O.a,{as:"footer",p:5,fontSize:"xl",textAlign:"center",children:Object(n.jsxs)("p",{children:["Made with"," ",Object(n.jsx)("span",{role:"img","aria-labelledby":"Heart",children:"\ud83d\udc96"})," ","by R\u0103zvan Sb\xeengu"]})})]})})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(143),r(144);i.a.render(Object(n.jsxs)(o.StrictMode,{children:[Object(n.jsx)(s.a,{}),Object(n.jsx)(me,{})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[145,1,2]]]);
//# sourceMappingURL=main.c90e4df3.chunk.js.map